<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aquaculture A‚ÄìZ Hub ‚Äî Andhra Pradesh</title>
  <meta name="description" content="One-stop aquaculture portal for Andhra Pradesh." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#f6f8fb;--card:#fff;--text:#0b1220;--muted:#5f6b85;--brand:#1e66f5;--border:#e5e7ef}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    .container{max-width:1080px;margin:0 auto;padding:16px}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:10px 0}
    .brand{display:flex;gap:10px;align-items:center}
    .logo{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#1e66f5,#7aa0ff)}
    .title{font-size:1.25rem;font-weight:800;margin:0}
    .muted{color:#5f6b85}
    .lang{display:flex;gap:6px}
    .pill{border:1px solid var(--border);background:#fff;padding:8px 12px;border-radius:999px;cursor:pointer}
    .pill.active{background:#0b1220;color:#fff;border-color:#0b1220}
    .panel{background:linear-gradient(180deg,#eef3ff,transparent);border:1px solid var(--border);border-radius:20px;padding:16px;margin-bottom:14px}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:680px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:980px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:14px;text-decoration:none;color:inherit;display:block;transition:.15s}
    .card:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(20,40,80,.08)}
    select{width:100%;padding:12px 14px;border:1px solid var(--border);border-radius:12px;background:#fff;font-weight:600}
    input[readonly]{background:#f9fbff}
    .row{display:grid;grid-template-columns:1fr;gap:10px}
    footer{margin:28px 0 10px;color:#5f6b85;font-size:.85rem;text-align:center}

    /* üé® Mobile-only soft colors for each widget */
    @media(max-width:679px){
      .card:nth-child(1){ background:#e6f0ff; }  /* light blue */
      .card:nth-child(2){ background:#e8fdf5; }  /* light green */
      .card:nth-child(3){ background:#fff5e6; }  /* light orange */
      .card:nth-child(4){ background:#fbefff; }  /* light purple */
      .card:nth-child(5){ background:#fdf4e6; }  /* light yellow */
      .card:nth-child(6){ background:#e9f7ff; }  /* light cyan */
      /* bigger district select on mobile */
      #districtSelect { padding:16px 16px; font-size:1.1rem; }
    }

    /* Quick Shrimp Rate tweaks */
    #quickShrimp { margin-top:4px }
    #qsPrice { text-align:center }
    label.small { font-size:.9rem; color:var(--muted); font-weight:700; display:block; margin:0 0 6px }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <p class="title" data-i18n="title">Aquaculture A‚ÄìZ Hub</p>
          <small class="muted" data-i18n="subtitle">Andhra Pradesh</small>
        </div>
      </div>
      <div class="lang" role="group" aria-label="Language">
        <button class="pill" data-lang="en">English</button>
        <button class="pill" data-lang="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
      </div>
    </header>

    <section class="panel">
      <div class="row">
        <div>
          <select id="districtSelect" data-i18n-placeholder="district">
            <option>Select District</option>
            <option>Nellore</option><option>West Godavari</option>
            <option>East Godavari</option><option>Krishna</option><option>Prakasam</option>
          </select>
        </div>
      </div>

      <div class="grid" style="margin-top:14px">
        <a class="card" href="live-rates.html">
          <h3 data-i18n="liveRates">Live Rates</h3>
          <p class="muted" data-i18n="liveDesc">Shrimp, feed, diesel & ice</p>
        </a>
        <a class="card" href="vendors.html">
          <h3 data-i18n="vendors">Vendors</h3>
          <p class="muted" data-i18n="vendorsDesc">Feeds ¬∑ Seeds ¬∑ Medicines ¬∑ Labs</p>
        </a>
        <a class="card" href="technicians.html">
          <h3 data-i18n="techs">Technicians & Labs</h3>
          <p class="muted" data-i18n="techsDesc">Directory & contact</p>
        </a>
        <a class="card" href="knowledge.html">
          <h3 data-i18n="knowledge">Knowledge Center</h3>
          <p class="muted" data-i18n="knowledgeDesc">Prawn culture A‚ÄìZ</p>
        </a>
        <a class="card" href="news.html">
          <h3 data-i18n="news">News & Schemes</h3>
          <p class="muted" data-i18n="newsDesc">Updates & subsidies</p>
        </a>
        <a class="card" href="post-requirement.html">
          <h3 data-i18n="post">Post a Requirement</h3>
          <p class="muted" data-i18n="postDesc">Get dealer callbacks</p>
        </a>
      </div>
    </section>

    <!-- Quick Shrimp Rate (Count -> Price from rates.csv) -->
    <section class="panel" id="quickShrimp">
      <label class="small" data-i18n="qs_title">Quick Shrimp Rate</label>
      <small class="muted" id="qsDistrictNote"></small>

      <div class="row" style="margin-top:10px">
        <div>
          <select id="qsCount"></select>
        </div>
        <div>
          <input id="qsPrice" type="text" readonly
                 style="width:100%;padding:12px 14px;border:1px solid var(--border);border-radius:12px;background:#f9fbff;font-weight:800;"
                 value="‚Çπ ‚Äî">
        </div>
      </div>

      <small class="muted" id="qsHint" data-i18n="qs_hint" style="display:block;margin-top:8px;">
        Pick a count to see today‚Äôs price.
      </small>
    </section>

    <footer>¬© <span id="yr"></span> Aquaculture A‚ÄìZ Hub ‚Ä¢ AP-first</footer>
  </div>

<!-- i18n + page logic -->
<script>
  const I18N = {
    en:{ title:"Aquaculture A‚ÄìZ Hub", subtitle:"Andhra Pradesh",
         liveRates:"Live Rates", liveDesc:"Shrimp, feed, diesel & ice",
         vendors:"Vendors", vendorsDesc:"Feeds ¬∑ Seeds ¬∑ Medicines ¬∑ Labs",
         techs:"Technicians & Labs", techsDesc:"Directory & contact",
         knowledge:"Knowledge Center", knowledgeDesc:"Prawn culture A‚ÄìZ",
         news:"News & Schemes", newsDesc:"Updates & subsidies",
         post:"Post a Requirement", postDesc:"Get dealer callbacks",
         district:"Select District",
         qs_title:"Quick Shrimp Rate",
         qs_hint:"Pick a count to see today‚Äôs price."
    },
    te:{ title:"‡∞Ü‡∞ï‡±ç‡∞µ‡∞æ‡∞ï‡∞≤‡±ç‡∞ö‡∞∞‡±ç A‚ÄìZ ‡∞π‡∞¨‡±ç", subtitle:"‡∞Ü‡∞Ç‡∞ß‡±ç‡∞∞‡∞™‡±ç‡∞∞‡∞¶‡±á‡∞∂‡±ç",
         liveRates:"‡∞≤‡±à‡∞µ‡±ç ‡∞∞‡±á‡∞ü‡±ç‡∞∏‡±ç", liveDesc:"‡∞∂‡±ç‡∞∞‡∞ø‡∞Ç‡∞™‡±ç, ‡∞´‡±Ä‡∞°‡±ç, ‡∞°‡±Ä‡∞ú‡∞ø‡∞≤‡±ç & ‡∞ê‡∞∏‡±ç",
         vendors:"‡∞µ‡±Ü‡∞Ç‡∞°‡∞∞‡±ç‡∞≤‡±Å", vendorsDesc:"‡∞´‡±Ä‡∞°‡±ç‡∞∏‡±ç ¬∑ ‡∞∏‡±Ä‡∞°‡±ç‡∞∏‡±ç ¬∑ ‡∞Æ‡∞Ç‡∞¶‡±Å‡∞≤‡±Å ¬∑ ‡∞≤‡±ç‡∞Ø‡∞æ‡∞¨‡±ç‡∞∏‡±ç",
         techs:"‡∞ü‡±Ü‡∞ï‡±ç‡∞®‡±Ä‡∞∑‡∞ø‡∞Ø‡∞®‡±ç‡∞∏‡±ç & ‡∞≤‡±ç‡∞Ø‡∞æ‡∞¨‡±ç‡∞∏‡±ç", techsDesc:"‡∞°‡±à‡∞∞‡±Ü‡∞ï‡±ç‡∞ü‡∞∞‡±Ä & ‡∞ï‡∞æ‡∞Ç‡∞ü‡∞æ‡∞ï‡±ç‡∞ü‡±ç",
         knowledge:"‡∞®‡∞æ‡∞≤‡±Ü‡∞°‡±ç‡∞ú‡±ç ‡∞∏‡±Ü‡∞Ç‡∞ü‡∞∞‡±ç", knowledgeDesc:"‡∞™‡±ç‡∞∞‡∞æ‡∞®‡±ç‡∞∏‡±ç ‡∞ï‡∞≤‡±ç‡∞ö‡∞∞‡±ç A‚ÄìZ",
         news:"‡∞®‡±ç‡∞Ø‡±Ç‡∞∏‡±ç & ‡∞∏‡±ç‡∞ï‡±Ä‡∞Æ‡±ç‡∞∏‡±ç", newsDesc:"‡∞Ö‡∞™‡±ç‡∞°‡±á‡∞ü‡±ç‡∞∏‡±ç & ‡∞∏‡∞¨‡±ç‡∞∏‡∞ø‡∞°‡±Ä‡∞≤‡±Å",
         post:"‡∞∞‡∞ø‡∞ï‡±ç‡∞µ‡±à‡∞∞‡±ç‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç ‡∞™‡±ã‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞ø", postDesc:"‡∞°‡±Ä‡∞≤‡∞∞‡±ç ‡∞ï‡∞æ‡∞≤‡±ç‚Äå‡∞¨‡±ç‡∞Ø‡∞æ‡∞ï‡±ç‡∞∏‡±ç ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø",
         district:"‡∞ú‡∞ø‡∞≤‡±ç‡∞≤‡∞æ ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø",
         qs_title:"‡∞§‡±ç‡∞µ‡∞∞‡∞ø‡∞§ ‡∞∞‡±ä‡∞Ø‡±ç‡∞Ø‡∞≤ ‡∞∞‡±á‡∞ü‡±Å",
         qs_hint:"‡∞ï‡±å‡∞Ç‡∞ü‡±ç ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡±á ‡∞à‡∞∞‡±ã‡∞ú‡±Å ‡∞∞‡±á‡∞ü‡±Å ‡∞ö‡±Ç‡∞™‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø."
    }
  };
  function getLang(){ return localStorage.getItem('lang') || 'en'; }
  function setLang(v){ localStorage.setItem('lang', v); applyI18N(); }
  function t(k){ return (I18N[getLang()]||{})[k] || k; }
  function applyI18N(){
    document.querySelectorAll('[data-i18n]').forEach(el=> el.textContent = t(el.dataset.i18n));
    const sel = document.getElementById('districtSelect');
    if (sel && sel.options.length) sel.options[0].textContent = t('district');
    document.querySelectorAll('[data-lang]').forEach(b=> b.classList.toggle('active', b.dataset.lang===getLang()));
  }
  document.querySelectorAll('[data-lang]').forEach(b=> b.addEventListener('click',()=> setLang(b.dataset.lang)));

  // district persistence
  const dSel = document.getElementById('districtSelect');
  const savedD = localStorage.getItem('district'); if(savedD) dSel.value = savedD;
  dSel.addEventListener('change', e=> { localStorage.setItem('district', e.target.value); qsUpdatePrice(); });

  // footer year + init i18n
  document.getElementById('yr').textContent = new Date().getFullYear();
  applyI18N();

  /* === Quick Shrimp Rate (Count -> Price) === */
  const QS_COUNTS = Array.from({length:18}, (_,i)=>200 - i*10); // 200..30
  const RATES_QS = { shrimp: {}, __loaded:false };
  const CSV_URL_QS = 'rates.csv'; // keep this file in repo root alongside index.html

  async function loadShrimpRates() {
    if (RATES_QS.__loaded) return;
    try {
      const res = await fetch(CSV_URL_QS, {cache:'no-store'});
      const text = await res.text();
      for (const line of text.split(/\r?\n/)) {
        const clean = line.trim();
        if (!clean || clean.startsWith('type,')) continue;
        const [type, district, key, priceStr] = clean.split(',').map(s=>s.trim());
        if (type!=='shrimp') continue;
        const price = parseFloat(priceStr);
        if (!RATES_QS.shrimp[district]) RATES_QS.shrimp[district] = {};
        RATES_QS.shrimp[district][key] = price;
      }
      RATES_QS.__loaded = true;
    } catch(e){ console.warn('Failed to load rates.csv', e); }
  }

  function qsFillCounts() {
    const sel = document.getElementById('qsCount');
    sel.innerHTML = '';
    QS_COUNTS.forEach(c=>{
      const opt = document.createElement('option');
      opt.value = c; opt.textContent = `${c}c`;
      sel.appendChild(opt);
    });
  }

  function qsUpdatePrice() {
    const district = localStorage.getItem('district') || 'Nellore';
    const count = document.getElementById('qsCount').value;
    const map = RATES_QS.shrimp[district] || {};
    const price = map[String(count)];
    document.getElementById('qsPrice').value = (price!=null) ? `‚Çπ ${price}` : '‚Çπ ‚Äî';
    document.getElementById('qsDistrictNote').textContent = district;
  }

  async function initQuickShrimp() {
    qsFillCounts();
    document.getElementById('qsCount').addEventListener('change', qsUpdatePrice);
    await loadShrimpRates();
    qsUpdatePrice();
  }
  initQuickShrimp();
</script>
</body>
</html>
