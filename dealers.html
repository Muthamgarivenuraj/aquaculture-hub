<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Dealers ‚Ä¢ Aquaculture A‚ÄìZ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config={darkMode:'class',theme:{extend:{boxShadow:{soft:'0 12px 28px rgba(2,6,23,.08)'}}}}</script>
  <style>
    html{scroll-behavior:smooth}
    body{background:linear-gradient(135deg,#dbeafe 0%,#e0f2fe 50%,#f0fdf4 100%)}
    .dark body{background:linear-gradient(135deg,#0f172a 0%,#082f49 50%,#14532d 100%)}
  </style>
</head>
<body class="text-slate-900 dark:text-slate-100">
  <header class="sticky top-0 z-30 backdrop-blur bg-white/80 dark:bg-slate-950/70 border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center gap-3">
      <a href="index.html" class="rounded-lg px-3 py-1.5 border border-slate-200 dark:border-slate-800">‚Üê</a>
      <h1 class="text-lg font-bold flex-1" data-i18n="title">Dealers</h1>
      <div class="flex rounded-full bg-slate-100 dark:bg-slate-900 p-1 border border-slate-200 dark:border-slate-800">
        <button id="langTE" class="px-3 py-1.5 text-sm rounded-full bg-white dark:bg-slate-800">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
        <button id="langEN" class="px-3 py-1.5 text-sm rounded-full">English</button>
      </div>
      <button id="themeToggle" class="rounded-full px-3 py-1.5 text-sm border border-slate-200 dark:border-slate-800">üåô/‚òÄÔ∏è</button>
    </div>
  </header>

  <main class="max-w-5xl mx-auto p-4">
    <div class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow-soft border border-slate-200/60 dark:border-slate-800">
      <div class="flex items-center gap-2">
        <input id="dSearch" class="flex-1 rounded-md border px-3 py-2 text-sm dark:bg-slate-950 dark:border-slate-800" data-i18n-placeholder="ph" placeholder="Search dealer/hatchery/lab‚Ä¶"/>
        <select id="dCategory" class="rounded-md border px-2 py-2 text-sm dark:bg-slate-950 dark:border-slate-800">
          <option value="">All</option><option>Feeds</option><option>Seeds</option><option>Medicines</option><option>Lab</option><option>Supplies</option>
        </select>
      </div>
      <div class="mt-3 overflow-x-auto">
        <table class="min-w-full text-sm" id="dealersTable">
          <thead>
            <tr class="border-b dark:border-slate-800 text-slate-500">
              <th class="text-left py-2 pr-4" data-i18n="th_name">Name</th>
              <th class="text-left py-2 pr-4" data-i18n="th_cat">Category</th>
              <th class="text-left py-2 pr-4" data-i18n="th_dist">District</th>
              <th class="text-left py-2 pr-4" data-i18n="th_phone">Phone</th>
              <th class="text-left py-2 pr-4">WhatsApp</th>
            </tr>
          </thead><tbody></tbody>
        </table>
      </div>
    </div>
  </main>

  <script>
    const dict={en:{title:"Dealers",th_name:"Name",th_cat:"Category",th_dist:"District",th_phone:"Phone",ph:"Search dealer/hatchery/lab‚Ä¶"},
               te:{title:"‡∞µ‡±Ü‡∞Ç‡∞°‡∞∞‡±ç‡∞≤‡±Å",th_name:"‡∞™‡±á‡∞∞‡±Å",th_cat:"‡∞ï‡±á‡∞ü‡∞ó‡∞ø‡∞∞‡±Ä",th_dist:"‡∞ú‡∞ø‡∞≤‡±ç‡∞≤‡∞æ",th_phone:"‡∞´‡±ã‡∞®‡±ç",ph:"‡∞°‡±Ä‡∞≤‡∞∞‡±ç / ‡∞π‡±ç‡∞Ø‡∞æ‡∞ö‡∞∞‡±Ä / ‡∞≤‡±ç‡∞Ø‡∞æ‡∞¨‡±ç ‡∞∏‡±Ü‡∞∞‡±ç‡∞ö‡±ç‚Ä¶"}};
    function setLang(){const l=localStorage.getItem('lang')||'te';document.documentElement.lang=l;document.querySelectorAll('[data-i18n]').forEach(el=>el.textContent=dict[l][el.dataset.i18n]||el.textContent); const ph=document.querySelector('[data-i18n-placeholder="ph"]'); if(ph) ph.placeholder=dict[l].ph;}

    // Theme
    const themeToggle=document.getElementById('themeToggle');
    const savedTheme=localStorage.getItem('theme');
    if(savedTheme==='dark'||(!savedTheme&&matchMedia('(prefers-color-scheme: dark)').matches)) document.documentElement.classList.add('dark');
    themeToggle.onclick=()=>{document.documentElement.classList.toggle('dark');localStorage.setItem('theme',document.documentElement.classList.contains('dark')?'dark':'light');};

    // Lang buttons
    langEN.onclick=()=>{localStorage.setItem('lang','en');setLang();};
    langTE.onclick=()=>{localStorage.setItem('lang','te');setLang();};

    // Demo data (or load from dealers.csv if you want)
    const rows=[{name:'Sri Venkateswara Feeds',cat:'Feeds',district:'Nellore',phone:'+91 98765 43210',wa:'+919876543210'},
                {name:'Blue Aqua Hatchery',cat:'Seeds',district:'Nellore',phone:'+91 91234 56780',wa:'+919123456780'},
                {name:'Godavari Aqua Care',cat:'Medicines',district:'East Godavari',phone:'+91 90000 11122',wa:'+919000011122'},
                {name:'Krishna Aqua Mart',cat:'Supplies',district:'Krishna',phone:'+91 90123 45678',wa:'+919012345678'}];

    const q=document.getElementById('dSearch'), cat=document.getElementById('dCategory'), tbody=document.querySelector('#dealersTable tbody');
    function draw(){const term=(q.value||'').toLowerCase(); const filtered=rows.filter(r=>(!cat.value||r.cat===cat.value)&&(r.name.toLowerCase().includes(term)||r.district.toLowerCase().includes(term)||r.cat.toLowerCase().includes(term))); tbody.innerHTML=''; filtered.forEach(d=>{const tr=document.createElement('tr'); tr.className='border-b last:border-0 dark:border-slate-800'; tr.innerHTML=`<td class='py-2 pr-4'>${d.name}</td><td class='py-2 pr-4'>${d.cat}</td><td class='py-2 pr-4'>${d.district}</td><td class='py-2 pr-4'><a class='underline' href='tel:${d.phone}'>${d.phone}</a></td><td class='py-2 pr-4'><a class='px-2 py-1 rounded-md bg-emerald-600 text-white' target='_blank' href='https://wa.me/${d.wa}?text=${encodeURIComponent('Hi, I need aqua supplies.')}'>Chat</a></td>`; tbody.appendChild(tr);});}
    q.oninput=cat.onchange=draw;

    setLang(); draw();
  </script>
</body>
</html>

