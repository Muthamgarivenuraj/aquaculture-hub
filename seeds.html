<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Seeds ‚Ä¢ Aquaculture A‚ÄìZ</title>

  <!-- üåô Early theme boot -->
  <script>
    (function(){
      try{
        const t = localStorage.getItem('theme');
        if (t==='dark' || (!t && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.classList.add('dark');
        }
      }catch(e){}
    })();
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode:'class', theme:{ extend:{ boxShadow:{soft:'0 12px 28px rgba(2,6,23,.08)'} } } }
  </script>
  <style>
    html{scroll-behavior:smooth}
    body{background:linear-gradient(135deg,#dbeafe 0%,#e0f2fe 50%,#f0fdf4 100%)}
    .dark body{background:linear-gradient(135deg,#0f172a 0%,#082f49 50%,#14532d 100%)}
  </style>
</head>
<body class="text-slate-900 dark:text-slate-100">
  <header class="sticky top-0 z-30 backdrop-blur bg-white/80 dark:bg-slate-950/70 border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-4xl mx-auto px-4 py-3 flex items-center gap-3">
      <a href="index.html" class="rounded-lg px-3 py-1.5 border border-slate-200 dark:border-slate-800">‚Üê</a>
      <h1 class="text-lg font-bold flex-1" data-i18n="seed_title">Seed Booking</h1>
      <div class="flex rounded-full bg-slate-100 dark:bg-slate-900 p-1 border border-slate-200 dark:border-slate-800">
        <button id="langTE" class="px-3 py-1.5 text-sm rounded-full bg-white dark:bg-slate-800">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
        <button id="langEN" class="px-3 py-1.5 text-sm rounded-full">English</button>
      </div>
      <button id="themeToggle" class="rounded-full px-3 py-1.5 text-sm border border-slate-200 dark:border-slate-800">üåô/‚òÄÔ∏è</button>
    </div>
  </header>

  <main class="max-w-4xl mx-auto p-4">
    <div class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow-soft border border-slate-200/60 dark:border-slate-800">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
        <label class="text-sm"><span data-i18n="state">State</span>
          <select id="sState" class="mt-1 w-full rounded-md border px-2 py-1 dark:bg-slate-950 dark:border-slate-800"><option>Andhra Pradesh</option><option>Tamil Nadu</option></select>
        </label>
        <label class="text-sm"><span data-i18n="district">District</span>
          <select id="sDistrict" class="mt-1 w-full rounded-md border px-2 py-1 dark:bg-slate-950 dark:border-slate-800"></select>
        </label>
        <label class="text-sm"><span data-i18n="hatchery">Hatchery</span>
          <select id="sHatchery" class="mt-1 w-full rounded-md border px-2 py-1 dark:bg-slate-950 dark:border-slate-800"></select>
        </label>
        <label class="text-sm"><span data-i18n="price_per">Price/1000 (‚Çπ)</span>
          <input id="sPrice" type="number" class="mt-1 w-full rounded-md border px-2 py-1 dark:bg-slate-950 dark:border-slate-800" readonly>
        </label>
      </div>

      <div class="mt-3 grid grid-cols-1 md:grid-cols-4 gap-3">
        <label class="text-sm"><span data-i18n="production">Production</span>
          <select id="sBatch" class="mt-1 w-full rounded-md border px-2 py-1 dark:bg-slate-950 dark:border-slate-800"><option>Batch 1</option><option>Batch 2</option></select>
        </label>
        <label class="text-sm"><span data-i18n="booking_date">Booking Date</span>
          <input id="sDate" type="date" class="mt-1 w-full rounded-md border px-2 py-1 dark:bg-slate-950 dark:border-slate-800">
        </label>
        <label class="text-sm"><span data-i18n="qty_pcs">Quantity (pcs)</span>
          <input id="sQty" type="number" value="100000" class="mt-1 w-full rounded-md border px-2 py-1 dark:bg-slate-950 dark:border-slate-800">
        </label>
        <div class="text-sm flex items-end"><span data-i18n="bonus_percent">Bonus %</span>: <b class="ml-2" id="sBonusPct">0%</b></div>
      </div>

      <p class="mt-2 text-sm">
        <span data-i18n="total_seeds">Total Seeds</span>: <b id="sTotalSeeds">0</b> |
        <span data-i18n="amount">Amount</span>: <b id="sAmount">‚Çπ 0</b>
      </p>

      <div class="mt-3 flex items-center justify-end">
        <button id="sBook" class="rounded-xl px-4 py-2 bg-emerald-600 text-white" data-i18n="final_book">Finalize Booking</button>
      </div>
    </div>
  </main>

  <script>
    const dict={en:{seed_title:"Seed Booking",state:"State",district:"District",hatchery:"Hatchery",price_per:"Price/1000 (‚Çπ)",production:"Production",booking_date:"Booking Date",qty_pcs:"Quantity (pcs)",bonus_percent:"Bonus %",total_seeds:"Total Seeds",amount:"Amount",final_book:"Finalize Booking"},
               te:{seed_title:"‡∞∏‡±Ä‡∞°‡±ç‡∞∏‡±ç ‡∞¨‡±Å‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç",state:"‡∞∞‡∞æ‡∞∑‡±ç‡∞ü‡±ç‡∞∞‡∞Ç",district:"‡∞ú‡∞ø‡∞≤‡±ç‡∞≤‡∞æ",hatchery:"‡∞π‡±ç‡∞Ø‡∞æ‡∞ö‡∞∞‡±Ä",price_per:"‡∞ß‡∞∞/1000 (‚Çπ)",production:"‡∞™‡±ç‡∞∞‡±ä‡∞°‡∞ï‡±ç‡∞∑‡∞®‡±ç",booking_date:"‡∞¨‡±Å‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç ‡∞§‡±á‡∞¶‡±Ä",qty_pcs:"‡∞™‡∞∞‡∞ø‡∞Æ‡∞æ‡∞£‡∞Ç (‡∞™‡±Ä‡∞∏‡±Å‡∞≤‡±Å)",bonus_percent:"‡∞¨‡±ã‡∞®‡∞∏‡±ç %",total_seeds:"‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç ‡∞∏‡±Ä‡∞°‡±ç‡∞∏‡±ç",amount:"‡∞Ö‡∞Æ‡±å‡∞Ç‡∞ü‡±ç",final_book:"‡∞´‡±à‡∞®‡∞≤‡±ç ‡∞¨‡±Å‡∞ï‡±ç"}};
    function setLang(){const l=localStorage.getItem('lang')||'te';document.documentElement.lang=l;document.querySelectorAll('[data-i18n]').forEach(el=>el.textContent=dict[l][el.dataset.i18n]||el.textContent);}

    // üåô Toggle
    const themeToggle=document.getElementById('themeToggle');
    themeToggle.onclick=()=>{document.documentElement.classList.toggle('dark');localStorage.setItem('theme',document.documentElement.classList.contains('dark')?'dark':'light');};

    // Lang buttons
    langEN.onclick=()=>{localStorage.setItem('lang','en');setLang();};
    langTE.onclick=()=>{localStorage.setItem('lang','te');setLang();};

    // Seeds data (fallback)
    let seeds=[{state:'Andhra Pradesh',district:'Nellore',hatchery:'Blue Aqua',price:350},{state:'Andhra Pradesh',district:'Krishna',hatchery:'Delta Hatchery',price:370},{state:'Tamil Nadu',district:'',hatchery:'Chennai Aqua',price:360}];

    const sState=document.getElementById('sState'), sDistrict=document.getElementById('sDistrict'), sHatch=document.getElementById('sHatchery'),
          sPrice=document.getElementById('sPrice'), sQty=document.getElementById('sQty'), sBonusPct=document.getElementById('sBonusPct'),
          sTotal=document.getElementById('sTotalSeeds'), sAmt=document.getElementById('sAmount');

    function fillDistrict(){const st=sState.value; const ds=[...new Set(seeds.filter(x=>x.state===st&&x.district).map(x=>x.district))]; sDistrict.innerHTML=ds.map(d=>`<option>${d}</option>`).join(''); sDistrict.parentElement.style.display=st==='Tamil Nadu'?'none':''; fillHatch();}
    function fillHatch(){const st=sState.value,d=sDistrict.value||''; const list=seeds.filter(x=>x.state===st&&(st==='Tamil Nadu'||x.district===d)); sHatch.innerHTML=list.map(x=>`<option data-price='${x.price}'>${x.hatchery}</option>`).join(''); updPrice();}
    function updPrice(){const opt=sHatch.selectedOptions[0]; sPrice.value=opt?opt.dataset.price:''; calc();}
    const bonusPercentByQty=qtyK=>qtyK>=100?30:0; // 100k+ pcs ‚Üí 30% bonus
    function calc(){const pricePerK=+sPrice.value||0, qtyPieces=+sQty.value||0; const bonusPct=bonusPercentByQty(qtyPieces/1000); sBonusPct.textContent=`${bonusPct}%`; const totalSeeds=Math.floor(qtyPieces+(qtyPieces*bonusPct/100)); const amount=(qtyPieces/1000)*pricePerK; sTotal.textContent=totalSeeds.toLocaleString('en-IN'); sAmt.textContent=`‚Çπ ${Math.round(amount).toLocaleString('en-IN')}`;}
    sState.onchange=fillDistrict; sDistrict.onchange=fillHatch; sHatch.onchange=updPrice; sQty.oninput=calc;

    // INIT
    setLang(); fillDistrict(); calc();
    sBook.onclick=()=>{alert(`‚úÖ ${dict[localStorage.getItem('lang')||'te'].seed_title}\n‚Ä¢ ${dict[localStorage.getItem('lang')||'te'].state}: ${sState.value} ${sDistrict.value||''}\n‚Ä¢ ${dict[localStorage.getItem('lang')||'te'].hatchery}: ${sHatch.value} @ ‚Çπ${sPrice.value}/1000\n‚Ä¢ ${dict[localStorage.getItem('lang')||'te'].qty_pcs}: ${(+sQty.value||0).toLocaleString('en-IN')}\n‚Ä¢ ${dict[localStorage.getItem('lang')||'te'].bonus_percent}: ${sBonusPct.textContent}\n‚Ä¢ ${dict[localStorage.getItem('lang')||'te'].total_seeds}: ${sTotal.textContent}\n‚Ä¢ ${dict[localStorage.getItem('lang')||'te'].amount}: ${sAmt.textContent}`);};
  </script>
</body>
</html>
