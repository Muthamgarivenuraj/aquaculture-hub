<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Vendors ‚Ä¢ Aquaculture A‚ÄìZ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config={darkMode:'class',theme:{extend:{boxShadow:{soft:'0 12px 28px rgba(2,6,23,.08)'}}}}
  </script>
  <style>
    body{background:linear-gradient(135deg,#dbeafe 0,#e0f2fe 50%,#f0fdf4 100%)}
    .dark body{background:linear-gradient(135deg,#0f172a 0,#082f49 50%,#14532d 100%)}
    .btn{padding:.6rem 1rem;border-radius:.75rem;font-weight:600}
    .btn-light{background:#f1f5f9}
    .dark .btn-light{background:#1e293b;color:#e2e8f0}
    .promo-slide{display:none}
    .promo-slide.active{display:block}
    .promo-dot{height:.6rem;width:.6rem;border-radius:9999px;border:1px solid currentColor;opacity:.5}
    .promo-dot.active{opacity:1;background:currentColor}
  </style>
</head>
<body class="text-slate-900 dark:text-slate-100">
  <!-- Header -->
  <header class="sticky top-0 z-30 backdrop-blur bg-white/80 dark:bg-slate-950/70 
                 border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <a href="index.html" class="rounded-lg px-3 py-1.5 border 
                   border-slate-200 dark:border-slate-800">‚Üê</a>
        <h1 class="text-lg font-bold" data-i18n="vendors_title">Vendors</h1>
      </div>

      <!-- Desktop buttons -->
      <div class="hidden sm:flex gap-2">
        <button class="btn btn-light" data-i18n="feed">Feed</button>
        <button class="btn btn-light" data-i18n="medicine">Medicines</button>
        <button class="btn btn-light" data-i18n="technicians">Technicians</button>
      </div>

      <div class="flex items-center gap-2">
        <select id="langSel" class="text-sm border rounded-md px-2 py-1 
                dark:bg-slate-900 dark:border-slate-700">
          <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
          <option value="en">English</option>
        </select>
        <button id="themeToggle" class="rounded-full px-3 py-1.5 text-sm 
                border border-slate-200 dark:border-slate-800">üåô/‚òÄÔ∏è</button>
      </div>
    </div>
  </header>

  <!-- Mobile buttons -->
  <div class="sm:hidden flex justify-around gap-2 p-3">
    <button class="btn btn-light flex-1" data-i18n="feed">Feed</button>
    <button class="btn btn-light flex-1" data-i18n="medicine">Medicines</button>
    <button class="btn btn-light flex-1" data-i18n="technicians">Technicians</button>
  </div>

  <main class="max-w-5xl mx-auto p-4 space-y-4">
    <!-- Ads/Promotions -->
    <div class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow-soft border 
                border-slate-200/60 dark:border-slate-800">
      <div class="flex items-center justify-between mb-3">
        <h3 class="font-semibold text-lg" data-i18n="promotions">Promotions</h3>
      </div>
      <div id="promoSlider" class="relative">
        <div id="promoTrack" class="overflow-hidden rounded-xl"></div>
        <div id="promoDots" class="mt-3 flex gap-2 justify-center"></div>
      </div>
    </div>

    <!-- üå¶ Weather Card -->
    <div class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow-soft border 
                border-slate-200/60 dark:border-slate-800">
      <h3 class="font-semibold mb-2">üå¶ <span data-i18n="weather">Weather Forecast</span></h3>
      <div id="weatherBox" class="text-sm">Loading...</div>
    </div>
  </main>

  <script>
    const dict={
      en:{vendors_title:"Vendors",feed:"Feed",medicine:"Medicines",technicians:"Technicians",promotions:"Promotions",weather:"Weather Forecast"},
      te:{vendors_title:"‡∞µ‡±Ü‡∞Ç‡∞°‡∞∞‡±ç‡∞≤‡±Å",feed:"‡∞´‡±Ä‡∞°‡±ç",medicine:"‡∞î‡∞∑‡∞ß‡∞æ‡∞≤‡±Å",technicians:"‡∞ü‡±Ü‡∞ï‡±ç‡∞®‡±Ä‡∞∑‡∞ø‡∞Ø‡∞®‡±ç‡∞≤‡±Å",promotions:"‡∞™‡±ç‡∞∞‡±ã‡∞Æ‡±ã‡∞∑‡∞®‡±ç‡∞∏‡±ç",weather:"‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£ ‡∞∏‡±Ç‡∞ö‡∞®"}
    };
    function applyI18n(){
      const lang=localStorage.getItem("lang")||"te";
      document.documentElement.lang=lang;
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const k=el.dataset.i18n;
        if(dict[lang][k]) el.textContent=dict[lang][k];
      });
      document.getElementById("langSel").value=lang;
    }

    // ‚úÖ Promotions
    const PROMOS=[
      {img:"assets/feed1.png", title_en:"High Quality Feed", title_te:"‡∞â‡∞®‡±ç‡∞®‡∞§‡∞Æ‡±à‡∞® ‡∞´‡±Ä‡∞°‡±ç", 
       desc_en:"Best nutritional feed for shrimps", desc_te:"‡∞∞‡±ä‡∞Ø‡±ç‡∞Ø‡∞≤ ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞â‡∞§‡±ç‡∞§‡∞Æ‡∞Æ‡±à‡∞® ‡∞™‡±ã‡∞∑‡∞ï ‡∞´‡±Ä‡∞°‡±ç"},
      {img:"assets/med1.png", title_en:"Aquaculture Medicines", title_te:"‡∞Ü‡∞ï‡±ç‡∞µ‡∞æ ‡∞Æ‡±Ü‡∞°‡∞ø‡∞∏‡∞ø‡∞®‡±ç‡∞∏‡±ç", 
       desc_en:"Trusted medicines for healthy culture", desc_te:"‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞ï‡∞≤‡±ç‡∞ö‡∞∞‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞®‡∞Æ‡±ç‡∞Æ‡∞ï‡∞Æ‡±à‡∞® ‡∞Æ‡∞Ç‡∞¶‡±Å‡∞≤‡±Å"},
      {img:"assets/tech1.png", title_en:"Expert Technicians", title_te:"‡∞®‡∞ø‡∞™‡±Å‡∞£‡±Å‡∞≤‡±à‡∞® ‡∞ü‡±Ü‡∞ï‡±ç‡∞®‡±Ä‡∞∑‡∞ø‡∞Ø‡∞®‡±ç‡∞≤‡±Å", 
       desc_en:"On-site technician support available", desc_te:"‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞ó‡∞£‡∞Ç‡∞≤‡±ã‡∞®‡±á ‡∞ü‡±Ü‡∞ï‡±ç‡∞®‡±Ä‡∞∑‡∞ø‡∞Ø‡∞®‡±ç ‡∞∏‡∞™‡±ã‡∞∞‡±ç‡∞ü‡±ç ‡∞≤‡∞≠‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø"}
    ];
    let promoIdx=0,timer=null;
    function renderPromo(){
      const lang=localStorage.getItem("lang")||"te";
      const track=document.getElementById("promoTrack"),
            dots=document.getElementById("promoDots");
      track.innerHTML=PROMOS.map((r,i)=>`
        <div class="promo-slide ${i===promoIdx?'active':''}">
          <img src="${r.img}" class="w-full h-48 object-cover rounded-xl mb-3"/>
          <h4 class="text-lg font-semibold">${lang==="te"?r.title_te:r.title_en}</h4>
          <p class="text-slate-600 dark:text-slate-300">
            ${lang==="te"?r.desc_te:r.desc_en}
          </p>
        </div>`).join('');
      dots.innerHTML=PROMOS.map((_,i)=>`
        <button class="promo-dot ${i===promoIdx?'active':''}" data-i="${i}"></button>`).join('');
      dots.querySelectorAll("button").forEach(b=>
        b.onclick=()=>{promoIdx=+b.dataset.i;renderPromo();startPromo();}
      );
    }
    function startPromo(){
      if(timer) clearInterval(timer);
      timer=setInterval(()=>{
        promoIdx=(promoIdx+1)%PROMOS.length;
        renderPromo();
      },6000);
    }

    // üå¶ Weather API
    const API_KEY="dd76809d5e71a15ca87c39247f74c349";
    async function loadWeather(city="Nellore"){
      try{
        const res=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`);
        const data=await res.json();
        if(data.main){
          document.getElementById("weatherBox").innerHTML=
            `<div class="flex items-center gap-3">
              <div class="text-3xl font-bold">${Math.round(data.main.temp)}¬∞C</div>
              <div>
                <div>${data.weather[0].description}</div>
                <div class="text-xs">H:${Math.round(data.main.temp_max)}¬∞ L:${Math.round(data.main.temp_min)}¬∞</div>
              </div>
            </div>`;
        }else{
          document.getElementById("weatherBox").textContent="‚ö† Weather unavailable";
        }
      }catch(e){
        document.getElementById("weatherBox").textContent="‚ö† Weather unavailable";
      }
    }

    document.addEventListener("DOMContentLoaded",()=>{
      if(!localStorage.getItem("lang")) localStorage.setItem("lang","te");
      applyI18n();

      const saved=localStorage.getItem("theme");
      if(saved==="dark") document.documentElement.classList.add("dark");
      document.getElementById("themeToggle").onclick=()=>{
        document.documentElement.classList.toggle("dark");
        localStorage.setItem("theme",
          document.documentElement.classList.contains("dark")?"dark":"light");
      };
      document.getElementById("langSel").onchange=e=>{
        localStorage.setItem("lang",e.target.value);
        applyI18n();renderPromo();
      };

      renderPromo();startPromo();
      loadWeather("Nellore");
    });
  </script>
</body>
</html>
