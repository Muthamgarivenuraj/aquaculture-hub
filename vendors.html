<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Vendors â€¢ Aquaculture Aâ€“Z</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: { extend: { boxShadow: { soft: '0 12px 28px rgba(2,6,23,.08)' } } }
    }
  </script>
  <style>
    body { background: linear-gradient(135deg,#dbeafe 0%,#e0f2fe 50%,#f0fdf4 100%) }
    .dark body { background: linear-gradient(135deg,#0f172a 0%,#082f49 50%,#14532d 100%) }
    .btn { padding:.6rem 1rem; border-radius:.75rem; font-weight:600; }
    .btn-primary { background:#3b82f6; color:#fff; }
    .promo-slide { display:none }
    .promo-slide.active { display:block }
  </style>
</head>
<body class="text-slate-900 dark:text-slate-100">
  <!-- Header -->
  <header class="sticky top-0 z-30 backdrop-blur bg-white/80 dark:bg-slate-950/80 border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <h1 class="text-lg font-bold" data-i18n="vendors_title">Vendors</h1>

      <!-- Desktop buttons -->
      <div class="hidden sm:flex gap-3 ml-6">
        <button class="btn bg-blue-100 dark:bg-blue-900" data-i18n="btn_feed">ğŸŒ¿ Feed Dealers</button>
        <button class="btn bg-pink-100 dark:bg-pink-900" data-i18n="btn_medicine">ğŸ’Š Medicine</button>
        <button class="btn bg-green-100 dark:bg-green-900" data-i18n="btn_tech">ğŸ‘¨â€ğŸ”§ Technicians</button>
      </div>

      <div class="flex items-center gap-2">
        <select id="langSel" class="text-sm border rounded-md px-2 py-1 dark:bg-slate-900 dark:border-slate-700">
          <option value="te">à°¤à±†à°²à±à°—à±</option>
          <option value="en">English</option>
        </select>
        <button id="themeToggle" class="px-3 py-1.5 text-sm border border-slate-200 dark:border-slate-700 rounded-full">ğŸŒ™/â˜€ï¸</button>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto p-4 space-y-6">
    <!-- Mobile buttons -->
    <div class="flex sm:hidden gap-3 justify-around">
      <button class="btn bg-blue-100 dark:bg-blue-900 flex-1" data-i18n="btn_feed_mob">ğŸŒ¿ Feed</button>
      <button class="btn bg-pink-100 dark:bg-pink-900 flex-1" data-i18n="btn_medicine">ğŸ’Š Medicine</button>
      <button class="btn bg-green-100 dark:bg-green-900 flex-1" data-i18n="btn_tech_mob">ğŸ‘¨â€ğŸ”§ Tech</button>
    </div>

    <!-- Promotions -->
    <section class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow-soft border">
      <h3 class="font-semibold mb-3" data-i18n="promotions">ğŸ“£ Promotions</h3>
      <div id="promoSlider" class="relative">
        <div id="promoTrack"></div>
        <div id="promoDots" class="mt-3 flex gap-2"></div>
      </div>
    </section>

    <!-- Weather Forecast -->
    <section class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow-soft border">
      <h3 class="font-semibold mb-3" data-i18n="weather">ğŸŒ¦ï¸ Weather Forecast</h3>
      <div id="weatherBox" class="text-sm text-slate-700 dark:text-slate-300">Loading...</div>
    </section>
  </main>

  <script>
    const dict = {
      en:{vendors_title:"Vendors",btn_feed:"ğŸŒ¿ Feed Dealers",btn_medicine:"ğŸ’Š Medicine",btn_tech:"ğŸ‘¨â€ğŸ”§ Technicians",btn_feed_mob:"ğŸŒ¿ Feed",btn_tech_mob:"ğŸ‘¨â€ğŸ”§ Tech",promotions:"Promotions",weather:"Weather Forecast"},
      te:{vendors_title:"à°µà°¿à°•à±à°°à±‡à°¤à°²à±",btn_feed:"ğŸŒ¿ à°«à±€à°¡à± à°¡à±€à°²à°°à±à°²à±",btn_medicine:"ğŸ’Š à°®à°‚à°¦à±à°²à±",btn_tech:"ğŸ‘¨â€ğŸ”§ à°Ÿà±†à°•à±à°¨à±€à°·à°¿à°¯à°¨à±à°²à±",btn_feed_mob:"ğŸŒ¿ à°«à±€à°¡à±",btn_tech_mob:"ğŸ‘¨â€ğŸ”§ à°Ÿà±†à°•à±",promotions:"à°ªà±à°°à±‹à°®à±‹à°·à°¨à±à°¸à±",weather:"à°µà°¾à°¤à°¾à°µà°°à°£ à°¸à±‚à°šà°¨"}
    };

    function applyI18n(){
      const lang=localStorage.getItem("lang")||"te";
      document.documentElement.lang=lang;
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const k=el.dataset.i18n; if(dict[lang][k]) el.textContent=dict[lang][k];
      });
      document.getElementById("langSel").value=lang;
    }

    // Theme + Lang init
    (function(){
      const saved=localStorage.getItem("theme");
      if(saved==="dark") document.documentElement.classList.add("dark");
      if(!localStorage.getItem("lang")) localStorage.setItem("lang","te");
      applyI18n();
    })();

    // Toggle
    themeToggle.onclick=()=>{document.documentElement.classList.toggle("dark");localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light");};
    langSel.onchange=e=>{localStorage.setItem("lang",e.target.value);applyI18n();};

    // Promotions dummy
    const PROMOS=[
      {title_en:"Discount on Feed",desc_en:"Get 10% off feed bags this week",title_te:"à°«à±€à°¡à±â€Œà°ªà±ˆ à°¡à°¿à°¸à±à°•à±Œà°‚à°Ÿà±",desc_te:"à°ˆ à°µà°¾à°°à°‚ à°«à±€à°¡à± à°¬à±à°¯à°¾à°—à±à°¸à±â€Œà°ªà±ˆ 10% à°¤à°—à±à°—à°¿à°‚à°ªà±"},
      {title_en:"Medicine Offer",desc_en:"Buy 2 get 1 free on selected medicines",title_te:"à°®à°‚à°¦à±à°² à°†à°«à°°à±",desc_te:"à°•à±Šà°¨à±à°¨à°¿ à°®à°‚à°¦à±à°²à°ªà±ˆ 2 à°•à±Šà°¨à°‚à°¡à°¿ 1 à°‰à°šà°¿à°¤à°‚"},
      {title_en:"Technician Visit",desc_en:"Free technician visit for bulk orders",title_te:"à°Ÿà±†à°•à±à°¨à±€à°·à°¿à°¯à°¨à± à°¸à°‚à°¦à°°à±à°¶à°¨",desc_te:"à°¬à°²à±à°•à± à°†à°°à±à°¡à°°à±à°¸à±â€Œà°•à°¿ à°‰à°šà°¿à°¤ à°Ÿà±†à°•à±à°¨à±€à°·à°¿à°¯à°¨à± à°¸à°‚à°¦à°°à±à°¶à°¨"}
    ];
    let promoIdx=0,timer=null;
    function renderPromo(){
      const lang=localStorage.getItem("lang")||"te";
      promoTrack.innerHTML=PROMOS.map((p,i)=>`
        <div class="promo-slide ${i===promoIdx?'active':''}">
          <h4 class="text-lg font-semibold">${lang==="te"?p.title_te:p.title_en}</h4>
          <p>${lang==="te"?p.desc_te:p.desc_en}</p>
        </div>`).join('');
      promoDots.innerHTML=PROMOS.map((_,i)=>`<span class="h-2 w-2 rounded-full ${i===promoIdx?'bg-blue-500':'bg-slate-400'} cursor-pointer" data-i="${i}"></span>`).join('');
      promoDots.querySelectorAll("span").forEach(b=>b.onclick=()=>{promoIdx=+b.dataset.i;renderPromo();startPromo();});
    }
    function startPromo(){if(timer)clearInterval(timer);timer=setInterval(()=>{promoIdx=(promoIdx+1)%PROMOS.length;renderPromo();},5000);}
    renderPromo();startPromo();

    // Weather API
    const API_KEY="dd76809d5e71a15ca87c39247f74c349";
    async function loadWeather(){
      try{
        const res=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Nellore,IN&appid=${API_KEY}&units=metric`);
        const data=await res.json();
        weatherBox.innerHTML=`<b>${data.name}</b>: ${data.weather[0].description}, ğŸŒ¡ï¸ ${data.main.temp}Â°C, ğŸ’§ Humidity ${data.main.humidity}%`;
      }catch(e){weatherBox.textContent="Failed to load weather";}
    }
    loadWeather();
  </script>
</body>
</html>
