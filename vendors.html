<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Vendors • Aquaculture A–Z</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config={darkMode:'class'}
  </script>
  <style>
    body{background:linear-gradient(135deg,#e0f2fe 0%,#f0fdf4 100%)}
    .dark body{background:linear-gradient(135deg,#0f172a 0%,#14532d 100%)}
    .promo-dot{height:.5rem;width:.5rem;border-radius:9999px;border:1px solid currentColor;opacity:.5}
    .promo-dot.active{opacity:1;background:currentColor}
    .promo-slide{display:none}
    .promo-slide.active{display:block}
  </style>
</head>
<body class="text-slate-900 dark:text-slate-100">
  <!-- Header -->
  <header class="sticky top-0 z-30 backdrop-blur bg-white/80 dark:bg-slate-950/70 border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-3">
      <a href="index.html" class="px-3 py-1.5 border rounded-lg">←</a>
      <h1 class="text-lg font-bold flex-1" data-i18n="vendors_title">Vendors</h1>
      <select id="langSel" class="text-sm border rounded-md px-2 py-1 dark:bg-slate-900 dark:border-slate-700">
        <option value="te">తెలుగు</option>
        <option value="en">English</option>
      </select>
      <button id="themeToggle" class="rounded-full px-3 py-1.5 text-sm border">🌙/☀️</button>
    </div>
  </header>

  <main class="max-w-6xl mx-auto p-4 space-y-6">
    <!-- 3 Buttons -->
    <div class="flex flex-wrap gap-3 justify-center">
      <button class="px-6 py-3 rounded-xl font-semibold bg-sky-200 text-sky-900">🥬 Feed Dealers</button>
      <button class="px-6 py-3 rounded-xl font-semibold bg-pink-200 text-pink-900">💊 Medicine</button>
      <button class="px-6 py-3 rounded-xl font-semibold bg-emerald-200 text-emerald-900">👨‍🔧 Technicians</button>
    </div>

    <!-- Feed Ads -->
    <section class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow border">
      <h2 class="font-bold text-lg mb-3">🥬 Feed Dealers</h2>
      <div id="feedSlider" class="relative">
        <div id="feedTrack"></div>
        <div id="feedDots" class="mt-3 flex gap-2"></div>
      </div>
    </section>

    <!-- Medicine Ads -->
    <section class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow border">
      <h2 class="font-bold text-lg mb-3">💊 Medicine</h2>
      <div id="medSlider" class="relative">
        <div id="medTrack"></div>
        <div id="medDots" class="mt-3 flex gap-2"></div>
      </div>
    </section>

    <!-- Technicians Ads -->
    <section class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow border">
      <h2 class="font-bold text-lg mb-3">👨‍🔧 Technicians</h2>
      <div id="techSlider" class="relative">
        <div id="techTrack"></div>
        <div id="techDots" class="mt-3 flex gap-2"></div>
      </div>
    </section>
  </main>

  <script>
    const dict={
      en:{vendors_title:"Vendors"},
      te:{vendors_title:"వెండర్లు"}
    };

    function applyI18n(){
      const lang=localStorage.getItem('lang')||'te';
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k=el.dataset.i18n;if(dict[lang][k]) el.textContent=dict[lang][k];
      });
      document.getElementById('langSel').value=lang;
    }

    // Theme toggle
    document.addEventListener("DOMContentLoaded",()=>{
      if(localStorage.getItem("theme")==="dark")document.documentElement.classList.add("dark");
      document.getElementById("themeToggle").onclick=()=>{document.documentElement.classList.toggle("dark");localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light");};
      if(!localStorage.getItem("lang")) localStorage.setItem("lang","te");
      document.getElementById("langSel").onchange=e=>{localStorage.setItem("lang",e.target.value);applyI18n();};
      applyI18n();
      initSliders();
    });

    // Dummy data
    const FEED=[{title_en:"High quality feed",title_te:"ఉత్తమ ఫీడ్",desc_en:"Available in Nellore",desc_te:"నెల్లూరులో లభిస్తుంది"},
                {title_en:"Premium feed dealers",title_te:"ప్రీమియం ఫీడ్ డీలర్లు",desc_en:"Supplying AP",desc_te:"ఆంధ్రప్రదేశ్ అంతటా సరఫరా"}];
    const MED=[{title_en:"Shrimp Medicine",title_te:"రొయ్యల మందు",desc_en:"Best for pond health",desc_te:"పాండ్ హెల్త్‌కి బెస్ట్"},
               {title_en:"Water treatment",title_te:"నీటి ట్రీట్మెంట్",desc_en:"Affordable price",desc_te:"తక్కువ ధరలో లభిస్తుంది"}];
    const TECH=[{title_en:"Technician support",title_te:"టెక్నీషియన్ సపోర్ట్",desc_en:"24/7 service",desc_te:"24/7 సేవ"},
                {title_en:"Expert consultants",title_te:"నిపుణుల కన్సల్టెంట్స్",desc_en:"Available in villages",desc_te:"గ్రామాల్లో అందుబాటులో"}];

    function renderSlider(list,trackId,dotsId){
      const lang=localStorage.getItem("lang")||"te";
      let idx=0,timer=null;
      function render(){
        document.getElementById(trackId).innerHTML=list.map((r,i)=>`
          <div class="promo-slide p-4 rounded-xl bg-blue-50 dark:bg-slate-800/40 ${i===idx?'active':''}">
            <h3 class="text-lg font-bold">${lang==="te"?r.title_te:r.title_en}</h3>
            <p class="text-sm">${lang==="te"?r.desc_te:r.desc_en}</p>
          </div>`).join('');
        document.getElementById(dotsId).innerHTML=list.map((_,i)=>`<button class="promo-dot ${i===idx?'active':''}" data-i="${i}"></button>`).join('');
        document.querySelectorAll(`#${dotsId} button`).forEach(b=>b.onclick=()=>{idx=+b.dataset.i;render();start();});
      }
      function start(){if(timer)clearInterval(timer);timer=setInterval(()=>{idx=(idx+1)%list.length;render();},5000);}
      render();start();
    }

    function initSliders(){
      renderSlider(FEED,"feedTrack","feedDots");
      renderSlider(MED,"medTrack","medDots");
      renderSlider(TECH,"techTrack","techDots");
    }
  </script>
</body>
</html>
