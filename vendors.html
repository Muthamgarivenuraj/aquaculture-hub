<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Aquaculture Aâ€“Z â€¢ Vendors</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>
  <style>
    .promo-dot{height:.5rem;width:.5rem;border-radius:9999px;border:1px solid currentColor;opacity:.5}
    .promo-dot.active{opacity:1;background:currentColor}
    .promo-slide{display:none}
    .promo-slide.active{display:block}
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-green-50 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-100">

  <!-- Header -->
  <header class="sticky top-0 z-30 backdrop-blur bg-white/80 dark:bg-slate-950/70 border-b dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <a href="index.html" class="rounded-lg px-3 py-1.5 border dark:border-slate-700">â†</a>
        <h1 class="text-lg font-bold" data-i18n="vendors_title">à°µà°¿à°•à±à°°à±‡à°¤à°²à±</h1>
        <!-- Desktop buttons -->
        <div class="hidden sm:flex gap-3 ml-6">
          <button class="px-3 py-1.5 rounded-lg bg-blue-100 dark:bg-blue-900" data-i18n="btn_feed">ğŸŒ¿ à°«à±€à°¡à± à°¡à±€à°²à°°à±à°²à±</button>
          <button class="px-3 py-1.5 rounded-lg bg-pink-100 dark:bg-pink-900" data-i18n="btn_medicine">ğŸ’Š à°®à°‚à°¦à±à°²à±</button>
          <button class="px-3 py-1.5 rounded-lg bg-green-100 dark:bg-green-900" data-i18n="btn_tech">ğŸ‘¨â€ğŸ”§ à°Ÿà±†à°•à±à°¨à±€à°·à°¿à°¯à°¨à±à°²à±</button>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <select id="langSel" class="text-sm border rounded-md px-2 py-1 dark:bg-slate-900 dark:border-slate-700">
          <option value="te">à°¤à±†à°²à±à°—à±</option>
          <option value="en">English</option>
        </select>
        <button id="themeToggle" class="rounded-full px-3 py-1.5 border dark:border-slate-700">ğŸŒ™/â˜€ï¸</button>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto p-4 space-y-6">

    <!-- Mobile buttons -->
    <div class="flex sm:hidden gap-3 justify-around">
      <button class="px-3 py-1.5 rounded-lg bg-blue-100 dark:bg-blue-900 flex-1" data-i18n="btn_feed">ğŸŒ¿ à°«à±€à°¡à± à°¡à±€à°²à°°à±à°²à±</button>
      <button class="px-3 py-1.5 rounded-lg bg-pink-100 dark:bg-pink-900 flex-1" data-i18n="btn_medicine">ğŸ’Š à°®à°‚à°¦à±à°²à±</button>
      <button class="px-3 py-1.5 rounded-lg bg-green-100 dark:bg-green-900 flex-1" data-i18n="btn_tech">ğŸ‘¨â€ğŸ”§ à°Ÿà±†à°•à±à°¨à±€à°·à°¿à°¯à°¨à±à°²à±</button>
    </div>

    <!-- Promotions slider -->
    <section class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow border dark:border-slate-700">
      <h2 class="font-bold text-lg mb-2" data-i18n="promotions">ğŸ“¢ à°ªà±à°°à±‹à°®à±‹à°·à°¨à±à°¸à±</h2>
      <div id="promoTrack" class="overflow-hidden rounded-xl"></div>
      <div id="promoDots" class="mt-3 flex gap-2"></div>
    </section>

    <!-- Weather forecast -->
    <section class="rounded-2xl p-4 bg-white dark:bg-slate-900 shadow border dark:border-slate-700">
      <h2 class="font-bold text-lg mb-3" data-i18n="weather">â˜€ï¸ à°µà°¾à°¤à°¾à°µà°°à°£ à°¸à±‚à°šà°¨</h2>
      <div id="weatherBox" class="grid grid-cols-2 md:grid-cols-5 gap-3 text-sm"></div>
    </section>
  </main>

  <script>
    const $id = s => document.getElementById(s);

    // i18n
    const dict = {
      en:{vendors_title:"Vendors",btn_feed:"ğŸŒ¿ Feed Dealers",btn_medicine:"ğŸ’Š Medicine",btn_tech:"ğŸ‘¨â€ğŸ”§ Technicians",promotions:"Promotions",weather:"Weather Forecast"},
      te:{vendors_title:"à°µà°¿à°•à±à°°à±‡à°¤à°²à±",btn_feed:"ğŸŒ¿ à°«à±€à°¡à± à°¡à±€à°²à°°à±à°²à±",btn_medicine:"ğŸ’Š à°®à°‚à°¦à±à°²à±",btn_tech:"ğŸ‘¨â€ğŸ”§ à°Ÿà±†à°•à±à°¨à±€à°·à°¿à°¯à°¨à±à°²à±",promotions:"à°ªà±à°°à±‹à°®à±‹à°·à°¨à±à°¸à±",weather:"à°µà°¾à°¤à°¾à°µà°°à°£ à°¸à±‚à°šà°¨"}
    };

    function applyI18n(){
      const lang=localStorage.getItem("lang")||"te";
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const k=el.dataset.i18n;
        if(dict[lang][k]) el.textContent=dict[lang][k];
      });
      $id("langSel").value=lang;
    }

    // Theme + lang toggle
    document.addEventListener("DOMContentLoaded",()=>{
      if(localStorage.getItem("theme")==="dark") document.documentElement.classList.add("dark");
      $id("themeToggle").onclick=()=>{document.documentElement.classList.toggle("dark");localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light");};
      if(!localStorage.getItem("lang")) localStorage.setItem("lang","te");
      $id("langSel").onchange=e=>{localStorage.setItem("lang",e.target.value);applyI18n();};
      applyI18n();
    });

    // Dummy promos
    const PROMOS=[
      {title_en:"High Quality Feed",title_te:"à°‰à°¤à±à°¤à°® à°«à±€à°¡à±",desc_en:"Available in Nellore",desc_te:"à°¨à±†à°²à±à°²à±‚à°°à±à°²à±‹ à°²à°­à°¿à°¸à±à°¤à±à°‚à°¦à°¿"},
      {title_en:"Best Medicines",title_te:"à°‰à°¤à±à°¤à°® à°®à°‚à°¦à±à°²à±",desc_en:"For healthy shrimp",desc_te:"à°†à°°à±‹à°—à±à°¯à°•à°°à°®à±ˆà°¨ à°°à±Šà°¯à±à°¯à°² à°•à±‹à°¸à°‚"},
      {title_en:"Expert Technicians",title_te:"à°…à°¨à±à°­à°µà°œà±à°à±à°²à±ˆà°¨ à°Ÿà±†à°•à±à°¨à±€à°·à°¿à°¯à°¨à±à°²à±",desc_en:"24/7 Support",desc_te:"à°°à±‹à°œà±à°•à± 24 à°—à°‚à°Ÿà°² à°¸à°¹à°¾à°¯à°‚"}
    ];
    let promoIdx=0,timer=null;
    function renderPromo(){
      const lang=localStorage.getItem("lang")||"te";
      $id("promoTrack").innerHTML=PROMOS.map((p,i)=>`
        <div class="promo-slide p-4 ${i===promoIdx?'active':''}">
          <h3 class="font-semibold">${lang==="te"?p.title_te:p.title_en}</h3>
          <p>${lang==="te"?p.desc_te:p.desc_en}</p>
        </div>`).join('');
      $id("promoDots").innerHTML=PROMOS.map((_,i)=>`<button class="promo-dot ${i===promoIdx?'active':''}" onclick="promoIdx=${i};renderPromo();startPromo();"></button>`).join('');
    }
    function startPromo(){if(timer)clearInterval(timer);timer=setInterval(()=>{promoIdx=(promoIdx+1)%PROMOS.length;renderPromo();},5000);}
    renderPromo();startPromo();

    // Weather forecast
    const API_KEY="dd76809d5e71a15ca87c39247f74c349"; // âœ… Your API Key
    async function loadWeather(){
      try{
        const cities=["Nellore","Chirala","Kakinada","Chennai","Ongole"];
        let html="";
        for(const c of cities){
          const res=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${c}&appid=${API_KEY}&units=metric&lang=te`);
          const d=await res.json();
          html+=`
            <div class="p-3 rounded-xl bg-blue-50 dark:bg-slate-800">
              <div class="font-semibold">${c}</div>
              <div>${d.main.temp}Â°C</div>
              <div>${d.weather[0].description}</div>
            </div>`;
        }
        $id("weatherBox").innerHTML=html;
      }catch(e){$id("weatherBox").textContent="âš ï¸ Weather unavailable";}
    }
    loadWeather();
  </script>
</body>
</html>
